package com.taobao.android.searchbaseframe.xsl.refact;

import android.app.Activity;
import android.util.SparseArray;
import android.view.View;
import android.view.ViewGroup;
import com.android.alibaba.ip.runtime.InstantReloadException;
import com.android.alibaba.ip.runtime.IpChange;
import com.taobao.android.meta.data.a;
import com.taobao.android.meta.structure.childpage.MetaChildPageWidget;
import com.taobao.android.searchbaseframe.datasource.impl.BaseTypedBean;
import com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget;
import java.util.ArrayList;
import tb.acx;
import tb.box;
import tb.bsi;
import tb.ckf;
import tb.cox;
import tb.esi;
import tb.fox;
import tb.g1a;
import tb.k4k;
import tb.kae;
import tb.o02;
import tb.oox;
import tb.phw;
import tb.stc;
import tb.t2o;
import tb.ude;
import tb.vfw;
import tb.xhv;
import tb.ytc;

/* compiled from: Taobao */
/* loaded from: /Users/corson/Downloads/taobao_decompiled/build/apk/classes6.dex */
public final class XslChildPageWidget extends MetaChildPageWidget {
    public static volatile transient /* synthetic */ IpChange $ipChange;
    public final fox m;
    public esi n;
    public final fox o;
    public final oox p;
    public final ArrayList<kae<?, ?>> q = new ArrayList<>();
    public esi r;
    public esi s;
    public boolean t;
    public final XslDelegateHeader u;

    static {
        t2o.a(993002074);
    }

    public static final xhv A(XslChildPageWidget xslChildPageWidget, Boolean bool) {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            return (xhv) ipChange.ipc$dispatch("fea9d911", new Object[]{xslChildPageWidget, bool});
        }
        ckf.g(xslChildPageWidget, "this$0");
        oox ooxVar = xslChildPageWidget.p;
        ckf.d(bool);
        ooxVar.u2(bool.booleanValue());
        return xhv.INSTANCE;
    }

    public static /* synthetic */ Object ipc$super(XslChildPageWidget xslChildPageWidget, String str, Object... objArr) {
        switch (str.hashCode()) {
            case -1303831088:
                super.bindWithData(objArr[0]);
                return null;
            case -1156728158:
                super.A2((kae) objArr[0], (esi) objArr[1], (String) objArr[2]);
                return null;
            case 267248023:
                super.init();
                return null;
            case 303778162:
                super.b3();
                return null;
            case 1939039366:
                super.p3();
                return null;
            default:
                int hashCode = str.hashCode();
                throw new InstantReloadException("String switch could not find '" + str + "' with hashcode " + hashCode + " in com/taobao/android/searchbaseframe/xsl/refact/XslChildPageWidget");
        }
    }

    /* JADX WARN: Type inference failed for: r4v2, types: [android.view.View, java.lang.Object] */
    /* JADX WARN: Unknown variable types count: 1 */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public static final tb.xhv w(com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget r4, java.lang.Integer r5) {
        /*
            com.android.alibaba.ip.runtime.IpChange r0 = com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget.$ipChange
            boolean r1 = r0 instanceof com.android.alibaba.ip.runtime.IpChange
            if (r1 == 0) goto L_0x0018
            java.lang.String r1 = "6551b3ba"
            r2 = 2
            java.lang.Object[] r2 = new java.lang.Object[r2]
            r3 = 0
            r2[r3] = r4
            r4 = 1
            r2[r4] = r5
            java.lang.Object r4 = r0.ipc$dispatch(r1, r2)
            tb.xhv r4 = (tb.xhv) r4
            return r4
        L_0x0018:
            java.lang.String r0 = "this$0"
            tb.ckf.g(r4, r0)
            tb.fox r4 = r4.o
            android.view.View r4 = r4.getView()
            tb.ckf.d(r4)
            tb.ckf.d(r5)
            int r5 = r5.intValue()
            tb.znx.b(r4, r5)
            tb.xhv r4 = tb.xhv.INSTANCE
            return r4
        */
        throw new UnsupportedOperationException("Method not decompiled: com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget.w(com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget, java.lang.Integer):tb.xhv");
    }

    /* JADX WARN: Type inference failed for: r4v2, types: [android.view.View, java.lang.Object] */
    /* JADX WARN: Unknown variable types count: 1 */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public static final tb.xhv y(com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget r4, java.lang.Integer r5) {
        /*
            com.android.alibaba.ip.runtime.IpChange r0 = com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget.$ipChange
            boolean r1 = r0 instanceof com.android.alibaba.ip.runtime.IpChange
            if (r1 == 0) goto L_0x0018
            java.lang.String r1 = "2dafd859"
            r2 = 2
            java.lang.Object[] r2 = new java.lang.Object[r2]
            r3 = 0
            r2[r3] = r4
            r4 = 1
            r2[r4] = r5
            java.lang.Object r4 = r0.ipc$dispatch(r1, r2)
            tb.xhv r4 = (tb.xhv) r4
            return r4
        L_0x0018:
            java.lang.String r0 = "this$0"
            tb.ckf.g(r4, r0)
            tb.fox r4 = r4.o
            android.view.View r4 = r4.getView()
            tb.ckf.d(r4)
            tb.ckf.d(r5)
            int r5 = r5.intValue()
            tb.znx.a(r4, r5)
            tb.xhv r4 = tb.xhv.INSTANCE
            return r4
        */
        throw new UnsupportedOperationException("Method not decompiled: com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget.y(com.taobao.android.searchbaseframe.xsl.refact.XslChildPageWidget, java.lang.Integer):tb.xhv");
    }

    @Override // com.taobao.android.meta.structure.childpage.MetaChildPageWidget
    public void A2(kae<BaseTypedBean, ?> kaeVar, esi esiVar, String str) {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("bb0dbaa2", new Object[]{this, kaeVar, esiVar, str});
            return;
        }
        ckf.g(kaeVar, "widget");
        ckf.g(esiVar, "header");
        ckf.g(str, "type");
        int hashCode = str.hashCode();
        if (hashCode != -892259863) {
            if (hashCode != 3148801) {
                if (hashCode == 3322014 && str.equals("list")) {
                    this.q.add(kaeVar);
                    super.A2(kaeVar, esiVar, str);
                    return;
                }
            } else if (str.equals(ytc.TYPE_FOLD)) {
                w3();
                this.o.q2(kaeVar);
                return;
            }
        } else if (str.equals("sticky")) {
            w3();
            this.m.q2(kaeVar);
            return;
        }
        super.A2(kaeVar, esiVar, str);
    }

    public final void A3(fox foxVar, boolean z, boolean z2) {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("158881a7", new Object[]{this, foxVar, new Boolean(z), new Boolean(z2)});
            return;
        }
        P2().stopScroll();
        if (z2) {
            x();
        }
        h3(foxVar, z, null);
    }

    public final void B3(int i, boolean z) {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("d3ad91cb", new Object[]{this, new Integer(i), new Boolean(z)});
            return;
        }
        int paddingBottom = P2().S2().getPaddingBottom();
        int size = this.q.size();
        while (i < size) {
            kae<?, ?> kaeVar = this.q.get(i);
            ckf.f(kaeVar, "get(...)");
            View view = kaeVar.getView();
            if (view != null) {
                paddingBottom += view.getMeasuredHeight();
            }
            i++;
        }
        j3(0, paddingBottom, z);
    }

    public final void C3(boolean z, boolean z2) {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("84fcc2e5", new Object[]{this, new Boolean(z), new Boolean(z2)});
        } else {
            A3(this.m, z, z2);
        }
    }

    @Override // com.taobao.android.meta.structure.childpage.MetaChildPageWidget
    public void b3() {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("121b4972", new Object[]{this});
            return;
        }
        super.b3();
        ((stc) t2()).j().updateHeaderOffset();
    }

    @Override // com.taobao.android.meta.structure.childpage.MetaChildPageWidget
    public void init() {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("fede197", new Object[]{this});
            return;
        }
        ((stc) t2()).j().addHeader(this.u);
        super.init();
        if (P2().S2().getChildCount() <= 0) {
            P2().z();
        }
        ((box) ((acx) getModel()).c()).q1().d(new g1a() { // from class: tb.otz
            @Override // tb.g1a
            public final Object invoke(Object obj) {
                xhv A;
                A = XslChildPageWidget.A(XslChildPageWidget.this, (Boolean) obj);
                return A;
            }
        });
    }

    @Override // com.taobao.android.meta.structure.childpage.MetaChildPageWidget
    public void p3() {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("73936486", new Object[]{this});
            return;
        }
        super.p3();
        if (!ckf.b(y3().j1().f(), Boolean.TRUE)) {
            W2();
        }
    }

    public final esi t3(phw<?, ?, ?> phwVar, String str) {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            return (esi) ipChange.ipc$dispatch("e310e4cb", new Object[]{this, phwVar, str});
        }
        phwVar.ensureView();
        esi esiVar = new esi(phwVar);
        esiVar.t(str);
        N2().put(phwVar.hashCode(), esiVar);
        ((stc) t2()).h(esiVar);
        return esiVar;
    }

    /* renamed from: u3 */
    public void bindWithData(Void r5) {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("7816d11b", new Object[]{this, r5});
            return;
        }
        super.bindWithData(r5);
        if (!((a) ((acx) getModel()).e()).isFirstSearchDone()) {
            Object h = ((acx) getModel()).d().h("controller");
            cox coxVar = h instanceof cox ? (cox) h : null;
            if (coxVar != null) {
                o02 e = ((acx) getModel()).e();
                ckf.e(e, "null cannot be cast to non-null type com.taobao.android.searchbaseframe.xsl.refact.XslDataSource");
                coxVar.L((XslDataSource) e, this);
            }
        }
    }

    public final void v3() {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("aad8ca07", new Object[]{this});
        } else {
            this.p.v2();
        }
    }

    public final ArrayList<kae<?, ?>> x3() {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            return (ArrayList) ipChange.ipc$dispatch("b2f958b3", new Object[]{this});
        }
        return this.q;
    }

    public final box y3() {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            return (box) ipChange.ipc$dispatch("52020d06", new Object[]{this});
        }
        bsi w2 = w2();
        ckf.e(w2, "null cannot be cast to non-null type com.taobao.android.searchbaseframe.xsl.refact.XslConfig");
        return (box) w2;
    }

    @Override // com.taobao.android.meta.structure.childpage.MetaChildPageWidget
    public void z() {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("b832b080", new Object[]{this});
            return;
        }
        this.o.s2();
        this.m.s2();
        N2().clear();
        if (this.t) {
            SparseArray<esi> N2 = N2();
            int hashCode = this.o.hashCode();
            esi esiVar = this.r;
            if (esiVar != null) {
                N2.put(hashCode, esiVar);
                SparseArray<esi> N22 = N2();
                int hashCode2 = this.m.hashCode();
                esi esiVar2 = this.n;
                if (esiVar2 != null) {
                    N22.put(hashCode2, esiVar2);
                    SparseArray<esi> N23 = N2();
                    int hashCode3 = this.p.hashCode();
                    esi esiVar3 = this.s;
                    if (esiVar3 != null) {
                        N23.put(hashCode3, esiVar3);
                    } else {
                        ckf.y("refreshHeader");
                        throw null;
                    }
                } else {
                    ckf.y("stickyHeader");
                    throw null;
                }
            } else {
                ckf.y("foldHeader");
                throw null;
            }
        }
        O2().clear();
        P2().z();
        M2().f();
        this.q.clear();
        G2();
    }

    public final void z3(boolean z, boolean z2) {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("902daafd", new Object[]{this, new Boolean(z), new Boolean(z2)});
        } else {
            A3(this.o, z, z2);
        }
    }

    public final void w3() {
        IpChange ipChange = $ipChange;
        if (ipChange instanceof IpChange) {
            ipChange.ipc$dispatch("cc009377", new Object[]{this});
        } else if (!this.t) {
            this.t = true;
            esi t3 = t3(this.p, "list");
            this.s = t3;
            if (t3 != null) {
                t3.o();
                this.r = t3(this.o, ytc.TYPE_FOLD);
                y3().i1().d(new g1a() { // from class: tb.ptz
                    @Override // tb.g1a
                    public final Object invoke(Object obj) {
                        xhv w;
                        w = XslChildPageWidget.w(XslChildPageWidget.this, (Integer) obj);
                        return w;
                    }
                });
                y3().h1().d(new g1a() { // from class: tb.qtz
                    @Override // tb.g1a
                    public final Object invoke(Object obj) {
                        xhv y;
                        y = XslChildPageWidget.y(XslChildPageWidget.this, (Integer) obj);
                        return y;
                    }
                });
                this.n = t3(this.m, "sticky");
                ((stc) t2()).j().commit();
                return;
            }
            ckf.y("refreshHeader");
            throw null;
        }
    }

    /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
    public XslChildPageWidget(Activity activity, ude udeVar, acx<XslDataSource> acxVar, ViewGroup viewGroup, vfw vfwVar) {
        super(activity, udeVar, acxVar, viewGroup, vfwVar);
        ckf.g(activity, "activity");
        ckf.g(udeVar, com.alibaba.triver.triver_shop.newShop.event.broadcast.a.MSG_SOURCE_PARENT);
        ckf.g(acxVar, "model");
        this.m = new fox(activity, udeVar, acxVar, viewGroup, new k4k(), false);
        this.o = new fox(activity, udeVar, acxVar, viewGroup, new k4k(), false);
        this.p = new oox(null, activity, udeVar, acxVar, viewGroup, new k4k());
        bsi w2 = w2();
        ckf.e(w2, "null cannot be cast to non-null type com.taobao.android.searchbaseframe.xsl.refact.XslConfig");
        this.u = new XslDelegateHeader(activity, (box) w2);
    }
}
